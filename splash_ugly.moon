-- title:  irrintzi splash screen demo
-- author: irrintzi
-- desc:   reusable splash screen with cga palette
-- script: moon

t=0
		
rdcol = (n) ->
	{
		b0: (peek (0x03fc0+(3*n))),
		b1: (peek (0x03fc0+(3*n)+1)),
		b2: (peek (0x03fc0+(3*n)+2))
	}

wrcol = (n,b0,b1,b2) ->
	poke 0x03fc0+(3*n),b0
	poke 0x03fc0+(3*n)+1,b1
	poke 0x03fc0+(3*n)+2,b2

f_in=64
f_out=256

export TIC=->
	switch t
		when 0
			cls 0
		when f_in+4
			wrcol 3,0x55,0x55,0x55
			cls 0
			spr 1,20,20,0,2,0,0,8,2
		when f_in+8
			wrcol 3,0x00,0xaa,0xaa
			cls 0
			spr 1,20,20,0,2,0,0,8,2
		when f_in+12
			wrcol 3,0x55,0xff,0xff
			cls 0
			spr 1,20,20,0,2,0,0,8,2
		when f_in+16
			wrcol 3,0xaa,0x00,0xaa
			cls 0
			spr 1,20,20,0,2,0,0,8,2
		when f_in+20
			wrcol 3,0xff,0x55,0xff
			cls 0
			spr 1,20,20,0,2,0,0,8,2
		when f_in+24
			wrcol 3,0xaa,0xaa,0xaa
			cls 0
			spr 1,20,20,0,2,0,0,8,2
		when f_in+28
			wrcol 3,0xff,0xff,0xff
			cls 0
			spr 1,20,20,0,2,0,0,8,2
		when f_out+4
			wrcol 3,0xaa,0xaa,0xaa
			cls 0
			spr 1,20,20,0,2,0,0,8,2
		when f_out+8
			wrcol 3,0xff,0x55,0xff
			cls 0
			spr 1,20,20,0,2,0,0,8,2
		when f_out+12
			wrcol 3,0xaa,0x00,0xaa
			cls 0
			spr 1,20,20,0,2,0,0,8,2
		when f_out+16
			wrcol 3,0x55,0xff,0xff
			cls 0
			spr 1,20,20,0,2,0,0,8,2
		when f_out+20
			wrcol 3,0x00,0xaa,0xaa
			cls 0
			spr 1,20,20,0,2,0,0,8,2
		when f_out+24
			wrcol 3,0x55,0x55,0x55
			cls 0
			spr 1,20,20,0,2,0,0,8,2
		when f_out+28
			wrcol 3,0x00,0x00,0x00
			cls 0
			spr 1,20,20,0,2,0,0,8,2
	t+=1

-- <TILES>
-- 001:0000000000000000000000000000000000000000000000000003333000303303
-- 002:0000000000000033000003330000333000033300003330000033000003300000
-- 003:0000000000000000000003000000033000000030000000000000030000000330
-- 004:0000000000000000000000000000000000000000000000003000030033300333
-- 005:0000000000000000003000000033000000030000000000000030030000330333
-- 006:0000000000000000003000000033000000330000033333003333300300330033
-- 007:0000000000000000000030000000330000000300000000003300300033303300
-- 017:0033033300333300003300000033000000333003000333300000000000000000
-- 018:0300003300003333003333000000000000333300000033330000003300000000
-- 019:3300033000000330000003300000033000000330000000303300000000000000
-- 020:3333033333030330330003303300033033000330030000300000000000000000
-- 021:3033033330330330003303300033033000330330000300300000000000000000
-- 022:3033000030330000303300033033030330333303300330000000000000000000
-- 023:0330330033003300300033000000330033303300330003000000000000000000
-- </TILES>

-- <WAVES>
-- 000:00000000ffffffff00000000ffffffff
-- 001:0123456789abcdeffedcba9876543210
-- 002:0123456789abcdef0123456789abcdef
-- </WAVES>

-- <SFX>
-- 000:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000304000000000
-- </SFX>

-- <PALETTE>
-- 000:000000555555aaaaaaffffff0000aa5555ff00aa0055ff5500aaaa55ffffaa0000ff5555aa00aaff55ffaa5500ffff55
-- </PALETTE>

